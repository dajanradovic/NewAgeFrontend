{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dajan\\\\new-age-frontend\\\\src\\\\checkOut.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './index.css';\nimport axios from 'axios';\nimport DajanHeader from './dajanHeader';\nimport { socketListen } from './socketListen';\n\nclass Checkout extends React.Component {\n  constructor() {\n    super();\n\n    this.confirmOrder = () => {\n      if (this.state.table) axios.post('http://localhost:4000/api/newOrder', {\n        contents: this.props.activeOrder,\n        price: this.props.total,\n        email: this.state.email\n      }).then(response => {\n        socketListen();\n        this.setState({\n          orderCompletedNote: true\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.pickTable = e => {\n      this.setState({\n        table: e.target.value\n      });\n    };\n\n    this.cancelOrder = () => {\n      this.props.emptyCart();\n      this.props.history.push('/');\n    };\n\n    this.setEmail = e => {\n      if (e.target.name == 'email') {\n        this.setState({\n          email: e.target.value\n        });\n      }\n    };\n\n    this.state = {\n      email: '',\n      orderCompletedNote: false,\n      table: '',\n      tableError: false\n    };\n  }\n\n  render() {\n    //let orderFinalPrice=0;\n    let order = this.props.activeOrder.map(item => {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        className: \"orderListItem\",\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 16\n        }\n      }, item.name, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 70\n        }\n      }, item.price, \" kn\"));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"checkOutMain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }\n    }, !this.state.orderCompletedNote && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, \"Order summary:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orderReview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, order, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, \"TOTAL: \", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 37\n      }\n    }, this.props.total, \" kn\"))), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"enterEmailH6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }\n    }, \"Enter your email address in the field below and you will get your receipt e-mailed to you (optional)\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"sendInvoiceInput\",\n      type: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.setEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"enterEmailH6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }\n    }, \"Pick your table (written on the table itself) (required)\"), /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.table,\n      onChange: this.pickTable,\n      name: \"table\",\n      id: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }\n    }, \"Choose your table\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Table 1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }\n    }, \"Table 1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Table 2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }, \"Table 2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Table 3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }\n    }, \"Table 3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Table 4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }\n    }, \"Table 4\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Table 5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }, \"Table 5\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Table 6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    }, \"Table 6\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Table 7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }\n    }, \"Table 7\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"confirmOrderButton\",\n      onClick: this.confirmOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }\n    }, \"Confirm order\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cancelButton\",\n      onClick: this.cancelOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }\n    }, \"Cancel\")), this.state.orderCompletedNote && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"goToMainPageButton\",\n      onClick: this.cancelOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 44\n      }\n    }, \"Go To The Main Page\"), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"orderCompletedNote\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 138\n      }\n    }, \"You have completed and order. Water will be brining it to you in a minute! \")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    activeOrder: state.activeOrder,\n    total: state.activeOrderTotal\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    emptyCart: () => {\n      dispatch({\n        type: 'EMPTY_CART'\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);","map":{"version":3,"sources":["C:/Users/Dajan/new-age-frontend/src/checkOut.js"],"names":["React","Component","connect","axios","DajanHeader","socketListen","Checkout","constructor","confirmOrder","state","table","post","contents","props","activeOrder","price","total","email","then","response","setState","orderCompletedNote","catch","error","console","log","pickTable","e","target","value","cancelOrder","emptyCart","history","push","setEmail","name","tableError","render","order","map","item","id","mapStateToProps","activeOrderTotal","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { connect} from 'react-redux';\r\nimport './index.css';\r\nimport axios from 'axios';\r\nimport DajanHeader from './dajanHeader';\r\nimport {socketListen} from './socketListen';\r\n\r\n\r\n\r\n\r\n\r\nclass Checkout extends React.Component {\r\n  constructor(){\r\n    super();\r\n\r\n    this.state={\r\n\r\n    email:'',\r\n    orderCompletedNote:false,\r\n    table:'',\r\n    tableError:false\r\n    \r\n    }\r\n   \r\n    }\r\n\r\nconfirmOrder = () => {\r\n    if(this.state.table)\r\n\r\n  axios.post('http://localhost:4000/api/newOrder', {\r\n    contents: this.props.activeOrder,\r\n    price: this.props.total,\r\n    email:this.state.email\r\n  })\r\n  .then( response => {\r\n\r\n    socketListen();\r\n    this.setState({\r\n\r\n      orderCompletedNote:true\r\n    })\r\n  })\r\n  .catch(function (error) {\r\n    console.log(error);\r\n  });\r\n\r\n}\r\n\r\npickTable = (e) => {\r\n\r\n  this.setState({\r\n\r\n    table: e.target.value\r\n  })\r\n}\r\n\r\n\r\ncancelOrder = () =>{\r\n\r\n  this.props.emptyCart();\r\n  this.props.history.push('/');\r\n}\r\n\r\nsetEmail = (e) =>{\r\n\r\n    if(e.target.name == 'email'){\r\n\r\n        this.setState({\r\n\r\n        email:e.target.value\r\n    })\r\n}\r\n}\r\n    \r\n\r\n  render(){\r\n\r\n    //let orderFinalPrice=0;\r\n    let order = this.props.activeOrder.map(item =>{\r\n          \r\n       return  <p className=\"orderListItem\" key={item.id}>{item.name}<span>{item.price} kn</span></p>\r\n    });\r\n    return (\r\n    <div className=\"checkOutMain\">\r\n     {!this.state.orderCompletedNote && <div>\r\n        <h3>Order summary:</h3>\r\n        <div className=\"orderReview\">\r\n            {order}\r\n\r\n        <p className=\"total\">TOTAL: <span>{this.props.total} kn</span></p>\r\n    </div>\r\n\r\n    <h6 className=\"enterEmailH6\">Enter your email address in the field below and you will get your receipt e-mailed to you (optional)</h6>\r\n    <input className=\"sendInvoiceInput\" type=\"email\" name=\"email\" value={this.state.email} onChange={this.setEmail}/>\r\n\r\n    <h6 className=\"enterEmailH6\">Pick your table (written on the table itself) (required)</h6>\r\n    <select value={this.state.table} onChange={this.pickTable}name=\"table\" id=\"table\">\r\n    <option value='' >Choose your table</option>\r\n    <option value=\"Table 1\">Table 1</option>\r\n    <option value=\"Table 2\">Table 2</option>\r\n    <option value=\"Table 3\">Table 3</option>\r\n    <option value=\"Table 4\">Table 4</option>\r\n    <option value=\"Table 5\">Table 5</option>\r\n    <option value=\"Table 6\">Table 6</option>\r\n    <option value=\"Table 7\">Table 7</option>\r\n\r\n\r\n\r\n\r\n</select>\r\n    <button className=\"confirmOrderButton\" onClick={this.confirmOrder}>Confirm order</button>\r\n    <button className=\"cancelButton\" onClick={this.cancelOrder}>Cancel</button>\r\n    </div>\r\n }\r\n    {this.state.orderCompletedNote && <div><button className=\"goToMainPageButton\" onClick={this.cancelOrder}>Go To The Main Page</button><h2 className=\"orderCompletedNote\">You have completed and order. Water will be brining it to you in a minute! </h2></div>}\r\n    </div>\r\n  );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n\r\n    return{\r\n        activeOrder: state.activeOrder,\r\n        total:state.activeOrderTotal\r\n        \r\n  \r\n  \r\n  \r\n      \r\n    }\r\n  \r\n  }\r\nconst mapDispatchToProps = (dispatch) =>{\r\n\r\n  return{\r\n        \r\n       \r\n\r\n    emptyCart:()=>{dispatch({type: 'EMPTY_CART'})}\r\n\r\n\r\n      \r\n\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);\r\n"]},"metadata":{},"sourceType":"module"}