{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Dajan\\\\new-age-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Dajan\\\\new-age-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Dajan\\\\new-age-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Dajan\\\\new-age-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import'./index.css';import axios from'axios';import OrderModal from'./orderModal';import{fetchAllOrders as _fetchAllOrders}from'./actions/fetchAllOrders';import openSocket from'socket.io-client';var socket=openSocket('http://newagebackend.xyz');var WaiterView=/*#__PURE__*/function(_React$Component){_inherits(WaiterView,_React$Component);var _super=_createSuper(WaiterView);function WaiterView(){var _this;_classCallCheck(this,WaiterView);_this=_super.call(this);_this.openModal=function(item){_this.props.openModal(item);};return _this;}_createClass(WaiterView,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(this.props.match.params.key);localStorage.setItem('token',this.props.match.params.key);this.props.fetchAllOrders();this.props.loggedIn();socket.on('orderReceived',function(){_this2.props.fetchAllOrders();});}},{key:\"render\",value:function render(){var _this3=this;var ordersListCompleted=this.props.orders.map(function(item,index){if(item.completed){return/*#__PURE__*/React.createElement(\"li\",{className:\"latestOrders\",onClick:function onClick(){return _this3.openModal(item);},key:index},item.time,/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"\"},\" \",item._id,\" \"));}});var ordersListPending=this.props.orders.map(function(item,index){if(!item.completed){return/*#__PURE__*/React.createElement(\"li\",{className:\"latestOrders\",onClick:function onClick(){return _this3.openModal(item);},key:index},item.time,/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"\"},\" \",item._id,\" \"));}});return/*#__PURE__*/React.createElement(\"div\",{className:\"checkOutMain\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"ordersTitle\"},\"Pending orders\"),/*#__PURE__*/React.createElement(\"ul\",null,ordersListPending),/*#__PURE__*/React.createElement(\"h2\",{className:\"ordersTitle\"},\"Competed orders\"),/*#__PURE__*/React.createElement(\"ul\",null,ordersListCompleted),/*#__PURE__*/React.createElement(OrderModal,null));}}]);return WaiterView;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{orders:state.orders};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchAllOrders:function fetchAllOrders(){dispatch(_fetchAllOrders());},loggedIn:function loggedIn(){dispatch({type:'USER_LOGGED_IN'});},openModal:function openModal(itemToAdd){dispatch({type:'OPEN_MODAL',item:itemToAdd});}};};export default connect(mapStateToProps,mapDispatchToProps)(WaiterView);","map":{"version":3,"sources":["C:/Users/Dajan/new-age-frontend/src/waiterView.js"],"names":["React","Component","connect","axios","OrderModal","fetchAllOrders","openSocket","socket","WaiterView","openModal","item","props","console","log","match","params","key","localStorage","setItem","loggedIn","on","ordersListCompleted","orders","map","index","completed","time","_id","ordersListPending","mapStateToProps","state","mapDispatchToProps","dispatch","type","itemToAdd"],"mappings":"wmBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,OAAT,KAAuB,aAAvB,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,OAAQC,cAAc,GAAdA,CAAAA,eAAR,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CAEA,GAAMC,CAAAA,MAAM,CAAGD,UAAU,CAAC,0BAAD,CAAzB,C,GAWME,CAAAA,U,oHACJ,qBAAa,4CACX,wBADW,MAqBfC,SArBe,CAqBH,SAACC,IAAD,CAAQ,CACnB,MAAKC,KAAL,CAAWF,SAAX,CAAqBC,IAArB,EAEA,CAxBc,cAKV,C,oFACc,iBAEjBE,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,GAApC,EACDC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6B,KAAKP,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,GAArD,EACD,KAAKL,KAAL,CAAWN,cAAX,GACA,KAAKM,KAAL,CAAWQ,QAAX,GAEAZ,MAAM,CAACa,EAAP,CAAU,eAAV,CAA2B,UAAK,CAE9B,MAAI,CAACT,KAAL,CAAWN,cAAX,GACD,CAHD,EAKC,C,uCASS,iBAEN,GAAIgB,CAAAA,mBAAmB,CAAG,KAAKV,KAAL,CAAWW,MAAX,CAAkBC,GAAlB,CAAsB,SAACb,IAAD,CAAOc,KAAP,CAAgB,CAC3C,GAAGd,IAAI,CAACe,SAAR,CAAkB,CACpB,mBAAS,0BAAI,SAAS,CAAC,cAAd,CAA6B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAChB,SAAL,CAAeC,IAAf,CAAN,EAAtC,CAAkE,GAAG,CAAEc,KAAvE,EAA+Ed,IAAI,CAACgB,IAApF,cAAyF,gCAAzF,cAAwG,4BAAM,SAAS,CAAC,EAAhB,MAAqBhB,IAAI,CAACiB,GAA1B,KAAxG,CAAT,CAEG,CACf,CALmB,CAA1B,CAMA,GAAIC,CAAAA,iBAAiB,CAAG,KAAKjB,KAAL,CAAWW,MAAX,CAAkBC,GAAlB,CAAsB,SAACb,IAAD,CAAOc,KAAP,CAAgB,CACtD,GAAG,CAACd,IAAI,CAACe,SAAT,CAAmB,CACrB,mBAAS,0BAAI,SAAS,CAAC,cAAd,CAA6B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAChB,SAAL,CAAeC,IAAf,CAAN,EAAtC,CAAkE,GAAG,CAAEc,KAAvE,EAA+Ed,IAAI,CAACgB,IAApF,cAAyF,gCAAzF,cAAwG,4BAAM,SAAS,CAAC,EAAhB,MAAqBhB,IAAI,CAACiB,GAA1B,KAAxG,CAAT,CAEG,CACZ,CAL2B,CAAxB,CAQA,mBACA,2BAAK,SAAS,CAAC,cAAf,eACE,0BAAI,SAAS,CAAC,aAAd,mBADF,cAEA,8BACKC,iBADL,CAFA,cAMA,0BAAI,SAAS,CAAC,aAAd,oBANA,cAOA,8BACKP,mBADL,CAPA,cAYA,oBAAC,UAAD,MAZA,CADA,CAgBC,C,wBA5DoBrB,KAAK,CAACC,S,EA+D/B,GAAM4B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAU,CAE9B,MAAM,CAGJR,MAAM,CAACQ,KAAK,CAACR,MAHT,CAAN,CASD,CAXH,CAYA,GAAMS,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAa,CAEtC,MAAM,CAGJ3B,cAAc,CAAE,yBAAK,CAAC2B,QAAQ,CAAC3B,eAAc,EAAf,CAAR,CAA2B,CAH7C,CAIJc,QAAQ,CAAC,mBAAI,CAACa,QAAQ,CAAC,CAACC,IAAI,CAAC,gBAAN,CAAD,CAAR,CAAkC,CAJ5C,CAKJxB,SAAS,CAAE,mBAACyB,SAAD,CAAc,CAACF,QAAQ,CAAC,CAACC,IAAI,CAAE,YAAP,CAAqBvB,IAAI,CAACwB,SAA1B,CAAD,CAAR,CAA+C,CALrE,CAAN,CAaD,CAfD,CAmBA,cAAehC,CAAAA,OAAO,CAAC2B,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CvB,UAA7C,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport { connect} from 'react-redux';\r\nimport './index.css';\r\nimport axios from 'axios';\r\nimport OrderModal from './orderModal';\r\n\r\nimport {fetchAllOrders} from './actions/fetchAllOrders';\r\nimport openSocket from 'socket.io-client';\r\n\r\nconst socket = openSocket('http://newagebackend.xyz');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass WaiterView extends React.Component {\r\n  constructor(){\r\n    super();\r\n\r\n  \r\n   \r\n    }\r\ncomponentDidMount(){\r\n\r\n  console.log(this.props.match.params.key);\r\n localStorage.setItem('token',this.props.match.params.key) \r\nthis.props.fetchAllOrders();\r\nthis.props.loggedIn();\r\n\r\nsocket.on('orderReceived', () =>{\r\n\r\n  this.props.fetchAllOrders();\r\n});\r\n\r\n}\r\n\r\n\r\nopenModal = (item)=>{\r\n this.props.openModal(item);\r\n\r\n}\r\n\r\n\r\n  render(){\r\n\r\n    let ordersListCompleted = this.props.orders.map((item, index) =>{\r\n                         if(item.completed){\r\n                       return   <li className=\"latestOrders\" onClick={() => this.openModal(item)} key={index}>{item.time}<span  ></span><span className=\"\"> {item._id} </span></li>\r\n\r\n                         }       \r\n          });\r\n    let ordersListPending = this.props.orders.map((item, index) =>{\r\n            if(!item.completed){\r\n          return   <li className=\"latestOrders\" onClick={() => this.openModal(item)} key={index}>{item.time}<span  ></span><span className=\"\"> {item._id} </span></li>\r\n\r\n            }       \r\n});\r\n\r\n   \r\n    return (\r\n    <div className=\"checkOutMain\">\r\n      <h2 className=\"ordersTitle\">Pending orders</h2>\r\n    <ul>\r\n        {ordersListPending}\r\n\r\n    </ul>\r\n    <h2 className=\"ordersTitle\">Competed orders</h2>\r\n    <ul>\r\n        {ordersListCompleted}\r\n\r\n    </ul>\r\n\r\n    <OrderModal></OrderModal>\r\n    </div>\r\n  );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n\r\n    return{\r\n       \r\n        \r\n      orders:state.orders\r\n  \r\n  \r\n      \r\n    }\r\n  \r\n  }\r\nconst mapDispatchToProps = (dispatch) =>{\r\n\r\n  return{\r\n        \r\n       \r\n    fetchAllOrders: () =>{dispatch(fetchAllOrders())},\r\n    loggedIn:()=>{dispatch({type:'USER_LOGGED_IN'})},\r\n    openModal: (itemToAdd) =>{dispatch({type: 'OPEN_MODAL', item:itemToAdd})},\r\n\r\n    \r\n\r\n\r\n      \r\n\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WaiterView);\r\n"]},"metadata":{},"sourceType":"module"}