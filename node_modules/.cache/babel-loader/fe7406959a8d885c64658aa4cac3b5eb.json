{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dajan\\\\new-age-frontend\\\\src\\\\checkOut.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './index.css';\nimport axios from 'axios';\nimport DajanHeader from './dajanHeader';\n\nclass Checkout extends React.Component {\n  constructor() {\n    super();\n\n    this.confirmOrder = () => {\n      axios.post('http://localhost:4000/api/newOrder', {\n        contents: this.props.activeOrder,\n        price: this.props.total,\n        email: this.state.email\n      }).then(response => {\n        this.setState({\n          orderCompletedNote: true\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.cancelOrder = () => {\n      this.props.emptyCart();\n    };\n\n    this.setEmail = e => {\n      if (e.target.name == 'email') {\n        this.setState({\n          email: e.target.value\n        });\n      }\n    };\n\n    this.state = {\n      email: '',\n      orderCompletedNote: false\n    };\n  }\n\n  render() {\n    //let orderFinalPrice=0;\n    let order = this.props.activeOrder.map(item => {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        className: \"orderListItem\",\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 16\n        }\n      }, item.name, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 70\n        }\n      }, item.price, \" kn\"));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"checkOutMain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, !this.state.orderCompletedNote && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, \"Order summary:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orderReview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, order, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, \"TOTAL: \", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 37\n      }\n    }, this.props.total, \" kn\"))), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"enterEmailH6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }\n    }, \"Enter your email address in the field below and you will get your receipt e-mailed to you (optional)\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"sendInvoiceInput\",\n      type: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.setEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"confirmOrderButton\",\n      onClick: this.confirmOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }\n    }, \"Confirm order\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cancelButton\",\n      onClick: this.cancelOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }\n    }, \"Cancel\")), this.state.orderCompletedNote && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"goToMainPageButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 44\n      }\n    }, \"Go To The Main Page\"), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"orderCompletedNote\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 111\n      }\n    }, \"You have completed and order. Water will be brining it to you in a minute! \")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    activeOrder: state.activeOrder,\n    total: state.activeOrderTotal\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    emptyCart: () => {\n      dispatch({\n        type: 'EMPTY_CART'\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);","map":{"version":3,"sources":["C:/Users/Dajan/new-age-frontend/src/checkOut.js"],"names":["React","Component","connect","axios","DajanHeader","Checkout","constructor","confirmOrder","post","contents","props","activeOrder","price","total","email","state","then","response","setState","orderCompletedNote","catch","error","console","log","cancelOrder","emptyCart","setEmail","e","target","name","value","render","order","map","item","id","mapStateToProps","activeOrderTotal","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { connect} from 'react-redux';\r\nimport './index.css';\r\nimport axios from 'axios';\r\nimport DajanHeader from './dajanHeader';\r\n\r\n\r\n\r\n\r\n\r\nclass Checkout extends React.Component {\r\n  constructor(){\r\n    super();\r\n\r\n    this.state={\r\n\r\n    email:'',\r\n    orderCompletedNote:false\r\n    \r\n    }\r\n   \r\n    }\r\n\r\nconfirmOrder = () => {\r\n\r\n\r\n  axios.post('http://localhost:4000/api/newOrder', {\r\n    contents: this.props.activeOrder,\r\n    price: this.props.total,\r\n    email:this.state.email\r\n  })\r\n  .then( response => {\r\n\r\n    this.setState({\r\n\r\n      orderCompletedNote:true\r\n    })\r\n  })\r\n  .catch(function (error) {\r\n    console.log(error);\r\n  });\r\n\r\n}\r\n\r\ncancelOrder = () =>{\r\n\r\n  this.props.emptyCart()\r\n}\r\n\r\nsetEmail = (e) =>{\r\n\r\n    if(e.target.name == 'email'){\r\n\r\n        this.setState({\r\n\r\n        email:e.target.value\r\n    })\r\n}\r\n}\r\n    \r\n\r\n  render(){\r\n\r\n    //let orderFinalPrice=0;\r\n    let order = this.props.activeOrder.map(item =>{\r\n          \r\n       return  <p className=\"orderListItem\" key={item.id}>{item.name}<span>{item.price} kn</span></p>\r\n    });\r\n    return (\r\n    <div className=\"checkOutMain\">\r\n     {!this.state.orderCompletedNote && <div>\r\n        <h3>Order summary:</h3>\r\n        <div className=\"orderReview\">\r\n            {order}\r\n\r\n        <p className=\"total\">TOTAL: <span>{this.props.total} kn</span></p>\r\n    </div>\r\n\r\n    <h6 className=\"enterEmailH6\">Enter your email address in the field below and you will get your receipt e-mailed to you (optional)</h6>\r\n    <input className=\"sendInvoiceInput\" type=\"email\" name=\"email\" value={this.state.email} onChange={this.setEmail}/>\r\n \r\n    <button className=\"confirmOrderButton\" onClick={this.confirmOrder}>Confirm order</button>\r\n    <button className=\"cancelButton\" onClick={this.cancelOrder}>Cancel</button>\r\n    </div>\r\n }\r\n    {this.state.orderCompletedNote && <div><button className=\"goToMainPageButton\">Go To The Main Page</button><h2 className=\"orderCompletedNote\">You have completed and order. Water will be brining it to you in a minute! </h2></div>}\r\n    </div>\r\n  );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n\r\n    return{\r\n        activeOrder: state.activeOrder,\r\n        total:state.activeOrderTotal\r\n        \r\n  \r\n  \r\n  \r\n      \r\n    }\r\n  \r\n  }\r\nconst mapDispatchToProps = (dispatch) =>{\r\n\r\n  return{\r\n        \r\n       \r\n\r\n    emptyCart:()=>{dispatch({type: 'EMPTY_CART'})}\r\n\r\n\r\n      \r\n\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);\r\n"]},"metadata":{},"sourceType":"module"}